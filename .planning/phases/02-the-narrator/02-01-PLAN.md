---
phase: 02-the-narrator
plan: 01
type: execute
domain: crewai-agents
---

<objective>
The Narrator agent'ının temel yapısını oluştur - marka sesi koruyucusu.

Purpose: "Sessiz Lüks" manifestosunu koruyan, Monocle/Kinfolk editorial voice'unda içerik üreten agent.
Output: Çalışan NarratorAgent class'ı, system prompt'u ve çalıştırma scripti.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./02-01-SUMMARY.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase 1 Özeti (agent patterns):
@.planning/phases/01-temel-altyapi/01-03-SUMMARY.md

# Mevcut kod yapısı:
@src/sade_agents/agents/base.py
@src/sade_agents/agents/test_agent.py
@scripts/run_test_agent.py

# Marka sesi referansları:
@marketing/brand_voice_samples.md
@architecture/agent_system_design.md

**Tech stack available:** Python, CrewAI, OpenAI
**Established patterns:**
- Agent inheritance: Tüm Sade agent'ları SadeAgent'tan miras alır
- Brand voice: Her agent sessiz_luks default brand voice taşır
- Department tagging: finance, marketing, operations, product
- Scripts dizini: Çalıştırma scriptleri scripts/ altında

**Constraining decisions:**
- [Phase 1-03]: SadeAgent CrewAI Agent'ını extend eder
- [Phase 1-03]: gpt-4o-mini default model
</context>

<tasks>

<task type="auto">
  <name>Task 1: NarratorAgent class oluştur</name>
  <files>src/sade_agents/agents/narrator.py, src/sade_agents/agents/__init__.py</files>
  <action>
NarratorAgent class'ı oluştur:
- SadeAgent'tan miras al
- department="marketing"
- autonomy_level="supervised" (marka kritik çıktılar için)
- role="The Narrator - Brand Consultant"
- goal="Sessiz Lüks manifestosunu korumak ve marka sesinde içerik üretmek"
- backstory: Monocle/Kinfolk dergisi editörü persona'sı

System prompt içeriği (backstory'de):
- "Sessiz Lüks" felsefesi: sofistike, az ve öz, asla bağırmayan
- Emoji kullanımı: Yok veya çok minimal
- Ton: Premium, understated, never shouty
- Referans dergiler: Monocle, Kinfolk
- Karşıt örnekler: "Hemen Al!", "Kaçırma!", "Şok Fiyat" gibi ifadeler YASAK
- Tercih edilen: "Keşfetmeye davet", "Beklenmedik", "Kendiliğinden"

agent_system_design.md'deki "The Narrator" tanımını temel al.
brand_voice_samples.md'deki örnekleri stil referansı olarak kullan.

NOT: test_agent.py ile aynı pattern'i takip et.
  </action>
  <verify>python -c "from sade_agents.agents import NarratorAgent; print('OK')"</verify>
  <done>NarratorAgent import edilebilir, SadeAgent'tan miras alıyor, department="marketing"</done>
</task>

<task type="auto">
  <name>Task 2: Narrator çalıştırma scripti</name>
  <files>scripts/run_narrator.py</files>
  <action>
run_test_agent.py pattern'ini takip ederek run_narrator.py oluştur:
- NarratorAgent oluştur
- Basit bir Task ver: "Sade Chocolate için kısa bir marka tanıtım cümlesi yaz"
- --dry-run flag'i destekle (agent oluştur ama çalıştırma)
- CrewAI Crew ile agent'ı çalıştır
- Sonucu terminale yazdır

Aynı error handling ve logging pattern'ini kullan.
  </action>
  <verify>python scripts/run_narrator.py --dry-run çalışır ve "Dry run mode" mesajı verir</verify>
  <done>Script çalışır, --dry-run mode desteklenir, NarratorAgent oluşturulur</done>
</task>

<task type="auto">
  <name>Task 3: Canlı agent testi</name>
  <files>-</files>
  <action>
run_narrator.py'yi --dry-run OLMADAN çalıştır:
- .env'de OPENAI_API_KEY tanımlı olmalı (Phase 1'de eklendi)
- Agent'ın ürettiği çıktıyı kaydet
- Çıktının "Sessiz Lüks" tonuna uygun olduğunu doğrula (emoji yok, kısa ve öz, sofistike)

Eğer API key yoksa veya hata alırsan, kullanıcıya bildir.
  </action>
  <verify>python scripts/run_narrator.py çalışır ve Türkçe marka cümlesi üretir</verify>
  <done>Agent OpenAI API ile yanıt üretir, çıktı "Sessiz Lüks" tonunda</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `python -c "from sade_agents.agents import NarratorAgent"` hatasız çalışır
- [ ] `python scripts/run_narrator.py --dry-run` başarılı
- [ ] `python scripts/run_narrator.py` çalışır ve içerik üretir
- [ ] Üretilen içerik "Sessiz Lüks" tonunda (emoji yok, sofistike, kısa)
</verification>

<success_criteria>
- NarratorAgent class SadeAgent'tan miras alır
- department="marketing", autonomy_level="supervised"
- System prompt "Sessiz Lüks" manifestosunu içerir
- Çalıştırma scripti --dry-run destekler
- Canlı test başarılı
</success_criteria>

<output>
After completion, create `.planning/phases/02-the-narrator/02-01-SUMMARY.md`:

# Phase 2 Plan 01: Narrator Agent Core Summary

**[Substantive one-liner]**

## Accomplishments

## Files Created/Modified

## Decisions Made

## Issues Encountered

## Next Step
Ready for 02-02-PLAN.md (Skills & Doğrulama)
</output>
