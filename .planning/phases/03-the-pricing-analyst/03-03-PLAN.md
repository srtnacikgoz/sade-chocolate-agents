---
phase: 03-the-pricing-analyst
plan: 03
type: execute
domain: integration
---

<objective>
PricingAnalystAgent'ı çalıştırma scripti ve canlı doğrulama.

Purpose: Agent'ın gerçek LLM ile çalıştığını doğrulamak.
Output: run_pricing_analyst.py scripti, kullanıcı onaylı çalışan agent.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Bu plan önceki planlara bağlı:
@.planning/phases/03-the-pricing-analyst/03-01-SUMMARY.md
@.planning/phases/03-the-pricing-analyst/03-02-SUMMARY.md

# Pattern için:
@scripts/run_narrator.py
@scripts/run_test_agent.py

**Tech stack available:** CrewAI Task, PricingAnalystAgent, fiyat_kontrol skill
**Established patterns:** scripts dizininde CLI scriptleri, --dry-run desteği
</context>

<tasks>

<task type="auto">
  <name>Task 1: run_pricing_analyst.py script oluştur</name>
  <files>scripts/run_pricing_analyst.py</files>
  <action>
run_narrator.py pattern'ini takip ederek PricingAnalystAgent çalıştırma scripti oluştur.

Özellikler:
- --dry-run flag: Sadece agent bilgilerini göster, LLM çağırma
- Default görev: "Vakko fiyatlarını kontrol et ve Sade için fiyat önerisi yap"
- CrewAI Task kullanarak agent'ı çalıştır
- Çıktıyı terminale yaz

Script yapısı:
1. Argparse ile --dry-run parsing
2. PricingAnalystAgent oluştur
3. Görev tanımla: "Vakko, Butterfly rakiplerinin fiyatlarını analiz et. Sade için rekabetçi fiyat önerisi yap."
4. Agent'ı Task ile çalıştır
5. Sonucu yazdır
  </action>
  <verify>python scripts/run_pricing_analyst.py --dry-run</verify>
  <done>--dry-run çalışıyor, agent bilgileri görüntüleniyor</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>PricingAnalystAgent - rakip fiyat analizi yapan agent</what-built>
  <how-to-verify>
    1. Çalıştır: python scripts/run_pricing_analyst.py
    2. Agent'ın fiyat_kontrol skill'ini kullandığını gör
    3. Çıktıda şunları kontrol et:
       - Rakip fiyat verileri (Vakko, Butterfly, Divan)
       - TL/gram karşılaştırması
       - Sade için fiyat önerisi
    4. Ton: Analitik, veri odaklı (Narrator'dan farklı)
  </how-to-verify>
  <resume-signal>Onaylamak için "approved", sorun varsa detay yaz</resume-signal>
</task>

</tasks>

<verification>
Tamamlanmadan önce:
- [ ] run_pricing_analyst.py scripti var
- [ ] --dry-run çalışıyor
- [ ] Canlı test kullanıcı tarafından onaylandı
</verification>

<success_criteria>

- run_pricing_analyst.py oluşturuldu
- Script çalışıyor ve agent'ı tetikliyor
- Kullanıcı canlı testi onayladı
- Phase 3 tamamlandı
</success_criteria>

<output>
Tamamlandığında `.planning/phases/03-the-pricing-analyst/03-03-SUMMARY.md` oluştur.

Summary'de:
- Agent'ın ürettiği örnek çıktıyı dahil et
- Kullanıcı onayını belgele
- "Phase 3: The Pricing Analyst tamamlandı" notu
</output>
