---
phase: 05-the-alchemist
plan: 01
type: execute
---

<objective>
The Alchemist agent'ını oluştur - lezzet/reçete önerileri, malzeme kombinasyonları ve çikolata bilimi.

Purpose: Ürün geliştirme ekibine lezzet eşleştirmeleri, mevsimsel malzemeler ve reçete önerileri sağlayacak akıllı asistan.
Output: Çalışan AlchemistAgent + lezzet_pisileri skill + test scripti.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase summaries (dependency graph):
@.planning/phases/01-temel-altyapi/01-03-SUMMARY.md
@.planning/phases/02-the-narrator/02-02-SUMMARY.md

# Key files:
@src/sade_agents/agents/base.py
@src/sade_agents/agents/growth_hacker.py
@src/sade_agents/skills/growth_skills.py
@skills/product/capability_manifest.md

**Tech stack available:** crewai-1.9.2, pydantic-settings, hatchling, ruff
**Established patterns:**
- SadeAgent inheritance
- @tool decorator for skills
- department + autonomy_level attributes
- run_{agent}.py script pattern

**Constraining decisions:**
- Phase 1: SadeAgent base class pattern (tüm agent'lar inherit eder)
- Phase 2: @tool decorator ile skill tanımı
- Phase 3-4: Mock data yaklaşımı (gerçek API/scraping ileride)
</context>

<tasks>

<task type="auto">
  <name>Task 1: AlchemistAgent class oluştur</name>
  <files>src/sade_agents/agents/alchemist.py, src/sade_agents/agents/__init__.py</files>
  <action>
SadeAgent'tan inherit eden AlchemistAgent class'ı oluştur.

Agent özellikleri:
- role: "The Alchemist - Flavor Architect"
- goal: "Lezzet kombinasyonları ve reçete önerileri ile ürün geliştirmeye katkı sağlamak"
- department: "product"
- autonomy_level: "autonomous" (reçete önerisi üretmek onay gerektirmez)

Backstory/Persona:
- Çikolata bilimini ve gastronomi sanatını birleştiren yaratıcı şef
- Callebaut 811 (bitter %54.5) ve 823 (sütlü %33.6) arasındaki farkları bilir
- Tempering, conching, ganache emülsifikasyonu gibi teknik süreçleri anlar
- Mevsimsel malzemeleri ve lezzet eşleştirmelerini takip eder
- "Flavor pairing" bilimi - moleküler gastronomi prensipleri

Çıktılar:
- Lezzet eşleştirme önerileri
- Mevsimsel malzeme raporları
- Yeni ürün reçete fikirleri

GrowthHackerAgent pattern'ini takip et - aynı yapı.
  </action>
  <verify>source .venv/bin/activate && python -c "from sade_agents.agents import AlchemistAgent; print(AlchemistAgent)" çalışır</verify>
  <done>AlchemistAgent class import edilebilir, department="product", autonomy_level="autonomous"</done>
</task>

<task type="auto">
  <name>Task 2: lezzet_pisileri skill'i oluştur</name>
  <files>src/sade_agents/skills/alchemist_skills.py, src/sade_agents/skills/__init__.py</files>
  <action>
Flavor Matrix (Lezzet Matrisi) skill'ini @tool decorator ile oluştur.

Skill fonksiyonu: lezzet_pisileri(malzeme: str = "cikolata", mod: str = "eslestir") -> str

Mock lezzet verileri (pricing_skills.py pattern'ini takip et):
```python
LEZZET_ESLESTIRMELERI = {
    "bitter_cikolata": {
        "klasik": ["portakal", "nane", "kahve", "findik", "badem"],
        "cesur": ["lavanta", "biberiye", "acı biber", "zeytinyağı", "tuz"],
        "meyveli": ["ahududu", "vişne", "çilek", "muz", "incir"],
    },
    "sutlu_cikolata": {
        "klasik": ["karamel", "vanilya", "fındık", "hindistancevizi"],
        "cesur": ["tuzlu karamel", "bal", "zencefil", "tarçın"],
        "meyveli": ["muz", "çilek", "şeftali", "kayısı"],
    },
    "beyaz_cikolata": {
        "klasik": ["frambuaz", "limon", "hindistancevizi", "macadamia"],
        "cesur": ["matcha", "gül", "lavanta", "safran"],
        "meyveli": ["mango", "maracuja", "ananas", "kivi"],
    },
}

MEVSIMSEL_MALZEMELER = {
    "ocak": ["kestane", "hurma", "portakal", "greyfurt", "nar"],
    "subat": ["kan portakalı", "limon", "kestane"],
    "mart": ["çilek (erken)", "limon", "erik"],
    "nisan": ["çilek", "erik", "kayısı (erken)"],
    "mayis": ["çilek", "kiraz", "kayısı", "erik"],
    "haziran": ["kiraz", "kayısı", "şeftali", "erik"],
    "temmuz": ["şeftali", "kayısı", "böğürtlen", "ahududu", "dut"],
    "agustos": ["şeftali", "üzüm", "incir", "karpuz"],
    "eylul": ["incir", "üzüm", "elma", "armut"],
    "ekim": ["elma", "armut", "ayva", "nar"],
    "kasim": ["ayva", "nar", "kestane", "hurma"],
    "aralik": ["kestane", "hurma", "portakal", "tarçın"],
}

CIKOLATA_BILGISI = {
    "callebaut_811": {"tip": "bitter", "kakao": 54.5, "notlar": "dengeli, hafif meyvemsi"},
    "callebaut_823": {"tip": "sütlü", "kakao": 33.6, "notlar": "kremamsı, karamel"},
    "callebaut_w2": {"tip": "beyaz", "kakao": 28, "notlar": "vanilya, süt"},
    "valrhona_guanaja": {"tip": "bitter", "kakao": 70, "notlar": "yoğun, meyveli, hafif acı"},
    "valrhona_jivara": {"tip": "sütlü", "kakao": 40, "notlar": "karamel, malt"},
}
```

Modlar:
- "eslestir": Verilen malzeme için lezzet eşleştirmeleri öner
- "mevsim": Şu anki ayın mevsimsel malzemelerini listele
- "bilgi": Çikolata çeşitleri hakkında teknik bilgi

Çıktı formatı:
- Eşleştirme tablosu (klasik/cesur/meyveli kategorilerde)
- Mevsimsel malzeme listesi
- Analiz talimatları (Alchemist için prompt template)

Docstring'de kullanım örnekleri ekle.
  </action>
  <verify>source .venv/bin/activate && python -c "from sade_agents.skills import lezzet_pisileri; print(lezzet_pisileri.name)" çalışır</verify>
  <done>lezzet_pisileri tool import edilebilir, mock lezzet verilerini döner</done>
</task>

<task type="auto">
  <name>Task 3: Çalıştırma scripti ve entegrasyon</name>
  <files>scripts/run_alchemist.py</files>
  <action>
run_growth_hacker.py pattern'ini takip ederek çalıştırma scripti oluştur.

Script özellikleri:
- AlchemistAgent'ı lezzet_pisileri tool'u ile başlatır
- CrewAI Crew + Task oluşturur
- Örnek görev: "Yeni bir bitter çikolata ürünü için lezzet önerileri hazırla"
- Dry-run check (OPENAI_API_KEY yoksa uyarı)
- Verbose output

Agent'a tools=[lezzet_pisileri] ekle (alchemist.py dosyasında import ve ekleme gerekli).
  </action>
  <verify>source .venv/bin/activate && python scripts/run_alchemist.py --dry-run çalışır</verify>
  <done>Script çalışıyor, agent lezzet önerisi görevi alıyor</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `source .venv/bin/activate && python -c "from sade_agents.agents import AlchemistAgent"` başarılı
- [ ] `source .venv/bin/activate && python -c "from sade_agents.skills import lezzet_pisileri"` başarılı
- [ ] `source .venv/bin/activate && python scripts/run_alchemist.py --dry-run` hata vermeden çalışıyor
- [ ] `source .venv/bin/activate && ruff check src/` hata yok
</verification>

<success_criteria>

- AlchemistAgent class oluşturuldu (SadeAgent pattern)
- lezzet_pisileri skill oluşturuldu (@tool pattern)
- Çalıştırma scripti mevcut ve çalışıyor
- Tüm dosyalar ruff kontrolünden geçiyor
- Phase 5 complete
  </success_criteria>

<output>
After completion, create `.planning/phases/05-the-alchemist/05-01-SUMMARY.md`:

# Phase 05 Plan 01: The Alchemist Summary

**[Substantive one-liner]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `path/to/file.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase complete, ready for next phase
</output>
